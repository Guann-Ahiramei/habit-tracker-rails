<h1 class="text-2xl font-bold"><%= @habit.name %></h1>
<p><%= @habit.description %></p>
<h2 class="text-xl mt-4">Time Blocks</h2>
<ul>
  <% @habit.time_blocks.each do |time_block| %>
    <li class="p-2 border-b">
      <%= time_block.start_time.strftime('%Y-%m-%d %H:%M') %> - <%= time_block.end_time.strftime('%H:%M') %>
      <% if time_block.completed %>
        ✅ Completed
      <% else %>
        ❌ Not Completed
      <% end %>
    </li>
  <% end %>
</ul>
<%= link_to 'Add Time Block', new_habit_time_block_path(@habit), class: "bg-green-500 text-white px-4 py-2 rounded" %>

<h2>设置提醒</h2>
<%= form_with model: [@habit, Reminder.new], local: true do |form| %>
  <%= form.label :reminder_time, "提醒时间" %>
  <%= form.datetime_select :reminder_time %>
  <%= form.submit "添加提醒" %>
<% end %>

<h2>已有提醒</h2>
<ul>
  <% @habit.reminders.each do |reminder| %>
    <li>
      <%= reminder.reminder_time.strftime("%Y-%m-%d %H:%M") %>
      <%= link_to "删除", habit_reminder_path(@habit, reminder), method: :delete, data: { confirm: "确定删除？" } %>
    </li>
  <% end %>
</ul>